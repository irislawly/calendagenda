<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <title>My BCIT Project</title>
    <meta name="comp1930 boilerplate code" content="my bcit project">
    <meta name="author" content="BCIT">

    <!------------------------------------------------------------------------------>
    <!-- Bootstrap for Mobile-first                                               -->
    <!------------------------------------------------------------------------------>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <!------------------------------------------------------------------------------>
    <!-- Add Firebase products that you want to use                               -->
    <!------------------------------------------------------------------------------>
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-firestore.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

    <!------------------------------------------------------------------------------>
    <!-- Optional styles and scripts of your own                                  -->
    <!------------------------------------------------------------------------------>
    
    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyDaE-SIkxEe_20i33sdDVA_Gpfs6STETqo",
            authDomain: "oct31-3f384.firebaseapp.com",
            databaseURL: "https://oct31-3f384.firebaseio.com",
            projectId: "oct31-3f384",
            storageBucket: "oct31-3f384.appspot.com",
            messagingSenderId: "240584166699",
            appId: "1:240584166699:web:584bfa5362305d3f64c96e"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();
    </script>
</head>

<body>
    <h1>Welcome to Jessica's Amazing App</h1>

    <h2>Let's read from the datebase: <span id="stuff">stuff</span></h2>
    <p id="grade" >66</p>;
    <script>
        db.collection("quotes").doc("789").onSnapshot(function (snap) {
            console.log("Current data is...", snap.data());
            document.getElementById('stuff').innerHTML = snap.data().message;
            // another way is snap.data()["message"]

        });

        db.collection("users").doc("courses").collection("1510").doc("quiz").onSnapshot(function (snap) {
            console.log("Current data is...", snap.data());
            document.getElementById('stuff').innerHTML = snap.data().message;
            // another way is snap.data()["message"]

        });

        var gradeOfQuiz1 = document.getElementById("grade").innerHTML;
        console.log("GRADE " + gradeOfQuiz1);

        var grade = db.collection("courses");
        grade.doc("1510").set({
            name: "quiz",
 
            grade: [gradeOfQuiz1]
        });

        var citiesRef = db.collection("cities");

        citiesRef.doc("SF").set({
            name: "San Francisco",
            state: "CA",
            country: "USA",
            capital: false,
            population: 860000,
            regions: ["west_coast", "norcal"]
        });
        citiesRef.doc("LA").set({
            name: "Los Angeles",
            state: "CA",
            country: "USA",
            capital: false,
            population: 3900000,
            regions: ["west_coast", "socal"]
        });

    </script>

</body>

</html>