<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <title>FIREBASE EXAMPLES</title>
    <meta name="comp1930 boilerplate code" content="my bcit project">
    <meta name="author" content="BCIT">

    <!------------------------------------------------------------------------------>
    <!-- Bootstrap for Mobile-first                                               -->
    <!------------------------------------------------------------------------------>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <!------------------------------------------------------------------------------>
    <!-- Add Firebase products that you want to use                               -->
    <!------------------------------------------------------------------------------>
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-firestore.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

    <!------------------------------------------------------------------------------>
    <!-- Optional styles and scripts of your own                                  -->
    <!------------------------------------------------------------------------------>
    <script src="scripts/firebase_config.js"></script>

</head>

<body>
    <h1>Welcome to Jessica's Amazing App</h1>

    <h2>Let's read from the datebase: <span id="stuff">stuff</span></h2>
    <p id="grade" >75</p>
    <p id="course" >1510</p>

    <script>
        //Retrieve info from database and place onto HTML
        db.collection("courses").doc("1510").onSnapshot(function (snap) {
            console.log("Current data is...", snap.data());
            document.getElementById('stuff').innerHTML = snap.data().description +" "+  snap.data().room;
          

        });

        //Course and grade inputs are taken in and stored into the database
        var courseNumber = document.getElementById("course").innerHTML;
        var gradeOfQuiz1 = document.getElementById("grade").innerHTML;
        console.log("GRADE " + gradeOfQuiz1);
        console.log("Coursenum " + courseNumber);    

        var grade = db.collection("users").doc("testUser1").collection("gradebook");
        grade.doc(courseNumber).set({
            name: "quiz",
            grade: [gradeOfQuiz1]

        });
    </script>
</body>

</html>